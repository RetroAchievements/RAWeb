.nav-item {
  position: relative;
  line-height: 20px;
  height: 42px; /* Only for main menu elements for mobile to make tap space */
}

.nav-link {
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  color: var(--menu-link-color);
  height: 42px;
  border-bottom: 0;
  overflow: hidden;
  padding-left: 10px;
  padding-right: 10px;
}

.nav-link-themed {
  color: var(--link-color);
}
.nav-link-themed:hover {
  color: var(--link-hover-color);
}

.nav-item:hover > .nav-link {
  color: var(--menu-link-color);
  background-color: var(--embed-highlight-color);
  position: relative;
}

/* TODO what is this for? */
.dropdown-menu > ul {
  display: none;
}

/* Make the navbar transparent when a page-wide banner is present. */
nav.has-banner,
nav.has-banner.bg-embedded {
  isolation: isolate;
  background-color: rgba(0, 0, 0, 0.5) !important;
  transition: background-color 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease;
  will-change: background-color, backdrop-filter;
}
/* Only apply blur to the first nav to avoid banding where navs meet. */
nav.has-banner:first-of-type {
  backdrop-filter: blur(8px);
}
/* Semi-transparent divider that color-blends with the banner. Hidden when scrolled past banner. */
@media (min-width: 1024px) {
  nav.has-banner:not(.scrolled-past-banner)::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(100%);
    pointer-events: none;
  }
}
nav.has-banner .bg-embedded,
nav.has-banner > div {
  background-color: transparent !important;
}
nav.has-banner:not(.scrolled-past-banner) #global-search {
  @apply !bg-neutral-900 border border-neutral-800;
}
[data-scheme='light'] nav.has-banner,
[data-scheme='system'] nav.has-banner {
  background-color: rgba(245, 245, 245, 0.85) !important;
  box-shadow: inset 0 -1px 0 0 rgba(0, 0, 0, 0.1);
}

@media (prefers-color-scheme: dark) {
  [data-scheme='system'] nav.has-banner {
    background-color: rgba(0, 0, 0, 0.5) !important;
  }
}

/* Revert to a solid navbar when scrolled past the banner. */
nav.has-banner.scrolled-past-banner {
  background-color: var(--embed-color) !important;
  backdrop-filter: blur(0px);
  box-shadow: none;
}
nav.has-banner.scrolled-past-banner .bg-embedded {
  background-color: var(--embed-color) !important;
}
